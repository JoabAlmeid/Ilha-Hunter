<%- include('partials/header-hunter.ejs'); -%>


  <h1>Minhas Tarefas</h1>

    <div class="box">
  
 

  <ul>
    <% todos.forEach(todo => { %>
      <li class="todo-item" data-id="<%= todo.id %>">
        <span id="title-<%= todo.id %>"><%= todo.title %></span>

        <form action="/todos/edit/<%= todo.id %>" method="POST" style="display:inline;">
          <input
            type="text"
            id="input-<%= todo.id %>"
            name="title"
            value="<%= todo.title %>"
            style="display:none;"
            oninput="handleInput(<%= todo.id %>)"
          />
          <button type="submit" style="display:none;" id="saveBtn-<%= todo.id %>">Salvar</button>
        </form>

        <button type="button" id="editBtn-<%= todo.id %>" onclick="enableEdit(<%= todo.id %>)">Editar</button>

        <form action="/todos/delete/<%= todo.id %>" method="POST" style="display:inline;">
          <button type="submit">Remover</button>
        </form>
      </li>
    <% }) %>
  </ul>
  <form action="/todos/add" method="POST">
          <input type="text" name="title" placeholder="Nova Tarefa" autocomplete="off" autofocus="true" required/>
          <button class="add" type="submit" name="list">+</button>
        </form>
  </div>

  <form action="/logout" method="POST">
    <button type="submit">Logout</button>
  </form>
</body>
</html>